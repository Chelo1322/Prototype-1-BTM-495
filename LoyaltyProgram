using System;
using System.Collections.Generic;

public class Customer
{
    public string Name { get; set; }
    public string Email { get; set; }
    public int LoyaltyPoints { get; private set; } = 0;
    
    public void AddPoints(int points)
    {
        LoyaltyPoints += points;
    }

    public void RedeemPoints(int points)
    {
        if (LoyaltyPoints >= points)
            LoyaltyPoints -= points;
        else
            Console.WriteLine("Insufficient loyalty points.");
    }
}

public class POSSystem
{
    private List<Customer> customers = new List<Customer>();

    public void JoinLoyaltyProgram(Customer customer)
    {
        customers.Add(customer);
        Console.WriteLine($"{customer.Name} has joined the loyalty program.");
    }

    public void SaveCustomerInfo(Customer customer)
    {
        // Save customer info logic here
        Console.WriteLine($"Customer info for {customer.Name} has been saved.");
    }

    public void TrackPurchase(Customer customer, double amountSpent)
    {
        int pointsEarned = CalculatePoints(amountSpent);
        customer.AddPoints(pointsEarned);
        Console.WriteLine($"{customer.Name} earned {pointsEarned} points for spending ${amountSpent}.");
    }

    private int CalculatePoints(double amountSpent)
    {
        return (int)(amountSpent * 0.1); // Example: 1 point per $10 spent
    }

    public bool CheckForReward(Customer customer, int requiredPoints)
    {
        return customer.LoyaltyPoints >= requiredPoints;
    }

    public void ApplyReward(Customer customer, int rewardPoints, double discountAmount = 0)
    {
        if (customer.LoyaltyPoints >= rewardPoints)
        {
            customer.RedeemPoints(rewardPoints);
            Console.WriteLine($"{rewardPoints} points redeemed for a reward.");
            // Apply discount or other reward to purchase
        }
        else
        {
            Console.WriteLine("Not enough points for reward.");
        }
    }

    public void UpdateLoyaltyBalance(Customer customer)
    {
        Console.WriteLine($"{customer.Name}'s loyalty points balance is now {customer.LoyaltyPoints}.");
    }
}

public class Program
{
    public static void Main(string[] args)
    {
        // Entry point for the program
    }
}
